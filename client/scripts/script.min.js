angular.module("ariadne",["ngResource","angular.filter","ui.bootstrap"]),angular.module("ariadne").controller("TaskController",["$filter","Task","User","$scope",function(a,b,c,d){var e=this;e.taskLimit=9,e.taskList=[],e.activeCount=a("filter")(e.taskList,{flags:{isActive:!0}}).length,e.completeCount=a("filter")(e.taskList,{flags:{isComplete:!0}}).length,d.$watch(function(){return e.taskList},function(){e.activeCount=a("filter")(e.taskList,{flags:{isActive:!0}}).length,e.completeCount=a("filter")(e.taskList,{flags:{isComplete:!0}}).length}),e.newTask={name:"",label:""},e.user=c.get(function(){b.query({_id:e.user._id},function(a){e.taskList=a})}),e.createTask=function(){var a=new b;angular.merge(a,e.newTask),a.owner=e.user._id,a.$save({_id:e.user._id},function(a){e.taskList.push(a),e.newTask.name="",e.newTask.label=""})},e.removeTask=function(c){b.remove({_id:e.user._id,id:c},function(b){e.taskList=a("filter")(e.taskList,function(a){return a._id!==b._id})})},e.toggle=function(c,d){if("isActive"===d){if(!a("filter")(e.taskList,{_id:c})[0].flags.isActive&&a("filter")(e.taskList,{flags:{isActive:!0}}).length>=e.taskLimit)return void console.log("Active Task Limit Reached");a("filter")(e.taskList,{_id:c})[0].flags.isActive?a("filter")(e.taskList,{_id:c})[0].flags.isActive&&e.activeCount--:e.activeCount++}"isComplete"===d&&(a("filter")(e.taskList,{_id:c})[0].flags.isComplete?a("filter")(e.taskList,{_id:c})[0].flags.isComplete&&e.completeCount--:e.completeCount++);var f=a("filter")(e.taskList,{_id:c})[0];f.flags[d]=!f.flags[d],b.save({_id:e.user._id,id:c},f)}}]),angular.module("ariadne").factory("Task",["$resource",function(a){return a("/api/users/:_id/tasks/:id",{_id:"@_id",id:"@id"})}]),angular.module("ariadne").factory("User",["$resource",function(a){return a("/api/users/")}]);
//# sourceMappingURL=script.min.js.map